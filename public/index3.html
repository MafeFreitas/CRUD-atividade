<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Delete</title>
    <link rel="stylesheet" href="css/style3.css">
<body>
    <form >
        
        <center>
        <!-- <h3>DELETE</h3> -->
        <h1>Delete alguma informação por aqui!</h1>
        <label>CPF:</label>
        <input type="text" id="cpf">
        <br><br>
        <input type="button" onclick="deletarDados()" value="Deletar" class="botao"> 

    </form>
    <br><br>

<!--      
<button class="custom-button" onclick="redirect9()">Post</button>

<script>
  function redirect9() {
    window.location.href = "index1.html";
  }
</script>


<button class="custom-button" onclick="redirect10()">Put</button>

<script>
  function redirect10() {
    window.location.href = "index2.html";
  }
</script>

<button class="custom-button" onclick="redirect11()">Get</button>

<script>
  function redirect11() {
    window.location.href = "index.html";
  }
</script> -->


     <a href="index1.html"  class="custom-button">Post</a>
    <a href="index2.html"  class="custom-button">Put</a>
    <a href="index.html"  class="custom-button">Get</a> 
</center>
    <script>
         //DELETE
         function deletarDados() {
            const cpf = document.getElementById("cpf").value;
          
            fetch(`pessoas`)
              .then(response => response.json())
              .then(data => {
                document.getElementById('cpf').value = '';
                data.forEach(obj => {
                  if (obj.cpf === cpf) {
                    fetch(`pessoas/${obj.id}`, {
                      method: 'DELETE'
                    });
                  }
                });
              });
          }
    </script>
</body>
</html>